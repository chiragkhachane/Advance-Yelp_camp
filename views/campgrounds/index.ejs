<% include ../partials/header %>
	

<div class="container">
	
	
	<header class="jumbotron">
		<div class="container">	
			<h1><i class="fas fa-campground"></i> Weclome to YelpCamp!</h1>
			<h6>View our handpicked Campgrounds for you!</h6>
			<p> <a class="btn btn-primary btn-lg" href="/index/new">Add New Campground</a> 
			</p>
		</div>
 	</header>


	<div class="row text-center">
		

			<div class="col-md-12 mx-auto">
            	<% if(noMatch !== null) { %>
             		<h3><%= noMatch %></h3>
			 		<br>
             	<% }else{ %>
			 		<div class="search">
						<h3  class="intro">Our most popular Campgrounds!</h3>
						<div class="d-flex justify-content-center align-items-center container">
							<p class="search-para">
								<form action="/index" method="GET" class="form-inline">
									<div class="form-group">
										<input type="text" name="search" placeholder="Campground Search..." class="form-control" aria-expanded="false">

										<input type="submit" value="Search" class="btn btn-secondary">
									</div>
								</form>	
							</p>
						</div>
					</div>
			 	<% } %>
         	</div>
			<!-- <% campgrounds.forEach(function(campground){ %>
				<div class="col-lg-3 col-md-4 col-sm-6 mb-4">
					<div class="card">
						<a href="index/<%= campground._id %>">
							<img src="<%= campground.image %>" width="253">
						</a>
						<div class="card-title">
							<h5><%= campground.name%></h5>
							<a href="index/<%= campground._id %>" class="btn btn-primary">More Info</a>
						</div>
					</div>
				</div>
			<% }); %>	 -->
	
			<% campgrounds.forEach(function(campground){ %>
				<div class="col-lg-3 col-md-4 col-sm-6 mb-4">
					<div class="card">
						<div class="inner">
							<a href="index/<%= campground._id %>">
								<img src="<%= campground.image %>" width="253">
							</a>
						</div>	
						<div class="card-title">
							<h5><%= campground.name%></h5>
							<a href="index/<%= campground._id %>" class="btn btn-primary">More Info</a>
						</div>
					</div>
				</div>
			<% }); %>	
			
		
	<div  class="mx-auto">	
			
	</div>
		
</div>

	<div class="mx-auto">	
			<% if(noMatch == null) { %>	
				<nav aria-label="Page navigation">		
					<% if (pages && pages > 0) { %>
						<ul class="pagination justify-content-center">
							<% if (current == 1) { %>
							<li class="page-item disabled"><a class="page-link">First</a></li>
							<% } else { %>
							<li><a class="page-link" href="/index<%if(search){%>?search=<%=search%><%}%>">First</a></li>
							<% } %>

							<% if (current == 1) { %>
							<li class="page-item disabled"><a class="page-link">«</a></li>
							<% } else { %>
							<li><a class="page-link" href="/index?page=<%= Number(current) - 1 %><%if(search){%>&search=<%=search%><%}%>">«</a></li>
							<% } %>

							<% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
							<% if (i !== 1) { %>
							<li class="page-item disabled"><a class="page-link">...</a></li>
							<% } %>
							<% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
							<% if (i == current) { %>
							<li class="page-item active"><a class="page-link"><%= i %></a></li>
							<% } else { %>
							<li><a class="page-link" href="/index?page=<%= i %><%if(search){%>&search=<%=search%><%}%>"><%= i %></a></li>
							<% } %>
							<% if (i == Number(current) + 4 && i < pages) { %>
							<li class="page-item disabled"><a class="page-link">...</a></li>
							<% } %>
							<% } %>

							<% if (current == pages) { %>
							<li class="page-item disabled"><a class="page-link">»</a></li>
							<% } else { %>
							<li><a class="page-link" href="/index?page=<%= Number(current) + 1 %><%if(search){%>&search=<%=search%><%}%>">»</a></li>
							<% } %>

							<% if (current == pages) { %>
							<li class="page-item disabled"><a class="page-link">Last</a></li>
							<% } else { %>
							<li><a class="page-link" href="/index?page=<%= pages %><%if(search){%>&search=<%=search%><%}%>">Last</a></li>
							<% } %>
						</ul>
					<% } %>
					
				</nav>
			<% } %>	
		
		</div>

<% include ../partials/footer %>


